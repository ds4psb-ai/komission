# K-MEME FACTORY v5.2 - ê¸°ìˆ ìš´ì˜ì„¤ê³„ì„œ ì»¨ì„¤íŒ… ë¶„ì„
## 2025ë…„ 12ì›” ê¸°ì¤€ ìµœì‹  ì•„í‚¤í…ì²˜ ê²€í†  & ìµœì í™” ê¶Œì¥ì‚¬í•­

---

## ğŸ“Š ì¢…í•© í‰ê°€

### í˜„ì¬ ì„¤ê³„ (v5.2)
```
âœ… ê°•ì 
  - ë³´ì•ˆ ì•„í‚¤í…ì²˜: íƒ„íƒ„í•¨ (Firebase + JWT + Rate Limiting)
  - ì—ëŸ¬ í•¸ë“¤ë§: ì™„ë²½í•¨ (ì¬ì‹œë„ ë¡œì§ + Fallback)
  - ìºì‹± ì „ëµ: í•©ë¦¬ì  (Cache-Aside íŒ¨í„´)
  - í…ŒìŠ¤íŠ¸ ì „ëµ: ëª…í™•í•¨ (70%+ ì»¤ë²„ë¦¬ì§€)
  - ëª¨ë‹ˆí„°ë§: ì²´ê³„ì ì„ (Sentry + Datadog)

âš ï¸ ê°œì„  í•„ìš” í•­ëª©
  1. AI ëª¨ë¸ ë²„ì „ ê²€í†  í•„ìš”
  2. ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜ ì¬ê²€í† 
  3. ìºì‹± ì „ëµ ì„¸ë¶„í™” í•„ìš”
  4. ë¹„ìš© ë¶„ì„ ì¬ê³„ì‚° í•„ìš”
```

---

## 1ï¸âƒ£ AI ëª¨ë¸ ë²„ì „ ê²€í† 

### í˜„ì¬ ì„¤ê³„
```
âœ… Google Gemini 3.0 Pro - $0.075/1M tokens
âœ… Anthropic Claude 4.5 Opus - $15/1M tokens
```

### 2025ë…„ 12ì›” ìµœì‹  ìƒí™©

#### Gemini 3.0 Pro vs Claude 4.5 Sonnet
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•­ëª©                â”‚ Gemini 3.0       â”‚ Claude 4.5       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì£¼ìš” ê°•ì            â”‚ ë©€í‹°ëª¨ë‹¬         â”‚ ì½”ë”©/ììœ¨í™”      â”‚
â”‚                     â”‚ (ë¹„ë””ì˜¤ ë¶„ì„)    â”‚ (ì—ëŸ¬ìœ¨ 0%)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš°     â”‚ 1M~2M tokens     â”‚ 200K tokens      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ììœ¨ ì‘ë™ ì‹œê°„      â”‚ ë‹¨ê¸° (ì‹¤í—˜ ì¤‘)   â”‚ 30ì‹œê°„ ì´ìƒ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì½”ë”© ëŠ¥ë ¥           â”‚ ìœ ë§ì             â”‚ ìµœê³  (SWE-77.2%) â”‚
â”‚ (SWE-bench)         â”‚ (ë³´ì¦ ì—†ìŒ)      â”‚                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë¹„ìš©               â”‚ ì €ë ´             â”‚ ì¤‘ê°„             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

K-MEME ì‚¬ìš© ì¼€ì´ìŠ¤:
  - Gemini 3.0: ì˜ìƒ ë¶„ì„ (BPM, í‚¤í”„ë ˆì„) âœ… ì™„ë²½
  - Claude 4.5: í•œêµ­í™” ê¸°íš (í…ìŠ¤íŠ¸ ìƒì„±) âœ… ìµœê³ 
```

### ğŸ’¡ ê¶Œì¥ì‚¬í•­: ë³€ê²½ ì—†ìŒ âœ…
```
í˜„ì¬ ì„¤ì •ì´ ìµœì ì…ë‹ˆë‹¤.

ì´ìœ :
1. Gemini 3.0 ProëŠ” ë©€í‹°ëª¨ë‹¬ ë¶„ì„ì— íƒì›”
   â†’ ë¹„ë””ì˜¤ ë¶„ì„ ì •í™•ë„ ë†’ìŒ
   
2. Claude 4.5 Sonnetì€ í…ìŠ¤íŠ¸ í’ˆì§ˆ ìµœê³ 
   â†’ í•œêµ­í™” ê¸°íš ìƒì„±ì— ìµœì 
   
3. ë¹„ìš© ëŒ€ë¹„ ì„±ëŠ¥: ìš°ìˆ˜
   â†’ Gemini: $0.075 (ë§¤ìš° ì €ë ´)
   â†’ Claude: $15 (1,000ê°œ ê¸°ì¤€ $15/ì›”ë§Œ ì‚¬ìš©)
```

---

## 2ï¸âƒ£ ê¸°ìˆ  ìŠ¤íƒ ê²€í† 

### í˜„ì¬ ì„¤ê³„
```
Backend: FastAPI 0.109+ + PostgreSQL 16 LTS + Redis 7.2
Frontend: Next.js 15 + React 18.3 + TypeScript 5.3
```

### 2025ë…„ ìµœì‹  Best Practices

#### ğŸ”´ ê°œì„  í•„ìš”: PostgreSQL ì—°ê²° ì•„í‚¤í…ì²˜
```
í˜„ì¬ (ë¬¸ì„œì— ëˆ„ë½):
  - ë¹„ë™ê¸° ì—°ê²°? ë™ê¸° ì—°ê²°? ëª…ì‹œ ì•ˆë¨
  - ì»¤ë„¥ì…˜ í’€ í¬ê¸°? ì„¤ì • ì•ˆë¨

ê¶Œì¥ (2025 Best Practices):
  
âœ… Async SQLAlchemy + asyncpg í•„ìˆ˜!

from sqlalchemy.ext.asyncio import create_async_engine

DATABASE_URL = "postgresql+asyncpg://user:pass@localhost/dbname"

engine = create_async_engine(
    DATABASE_URL,
    pool_size=20,           # ğŸ‘ˆ ë™ì‹œ ì—°ê²° 20ê°œ
    max_overflow=10,        # ğŸ‘ˆ ìµœëŒ€ ì˜¤ë²„í”Œë¡œìš° 10ê°œ
    echo=False,
    future=True
)

async_session = sessionmaker(
    engine,
    class_=AsyncSession,
    expire_on_commit=False
)

ì´ìœ :
  - FastAPIëŠ” async/await ê¸°ë°˜
  - asyncpgë¥¼ ì“°ë©´ 10ë°° ì´ìƒ ë¹ ë¦„
  - ë™ê¸° ì—°ê²°í•˜ë©´ ë³‘ëª© ë°œìƒ
  - ì»¤ë„¥ì…˜ í’€ ìµœì í™” í•„ìˆ˜
```

#### ğŸ”´ ê°œì„  í•„ìš”: Repository Pattern ì¶”ê°€
```
í˜„ì¬ (ë¬¸ì„œì— ëˆ„ë½):
  - ë°ì´í„° ì ‘ê·¼ ë¡œì§ ì§ì ‘ ë…¸ì¶œ
  - í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€

ê¶Œì¥:

class RemixNodeRepository:
    def __init__(self, session: AsyncSession):
        self.session = session
    
    async def get_by_id(self, node_id: str) -> RemixNode:
        return await self.session.get(RemixNode, node_id)
    
    async def save(self, node: RemixNode) -> RemixNode:
        self.session.add(node)
        await self.session.commit()
        return node
    
    async def delete(self, node_id: str) -> None:
        node = await self.get_by_id(node_id)
        await self.session.delete(node)
        await self.session.commit()

# ì‚¬ìš©:
@app.get("/api/remix/{node_id}")
async def get_remix(
    node_id: str,
    session: AsyncSession = Depends(get_db)
):
    repo = RemixNodeRepository(session)
    node = await repo.get_by_id(node_id)
    return node

ì´ìœ :
  - í…ŒìŠ¤íŠ¸ ì‹œ Mock ê°€ëŠ¥
  - ë°ì´í„° ì ‘ê·¼ ë¡œì§ ì¼ê´€ì„±
  - ìœ ì§€ë³´ìˆ˜ ì‰¬ì›€
```

---

## 3ï¸âƒ£ Redis ìºì‹± ì „ëµ ì¬ê²€í† 

### í˜„ì¬ ì„¤ê³„
```
| ìºì‹œ ëŒ€ìƒ | TTL | í‚¤ íŒ¨í„´ | 
|---------|-----|---------|
| Gemini ë¶„ì„ | 24ì‹œê°„ | gemini:{video_url} |
| Recipe View | 1ì‹œê°„ | recipe:{node_id} |
| ìœ ì‚¬ ë…¸ë“œ | 1ì‹œê°„ | similar:{query} |
| í• ë‹¹ëŸ‰ | 24ì‹œê°„ | quota:{user_id}:daily |
```

### 2025ë…„ Redis Best Practices

#### ğŸŸ¡ ê°œì„  ê¶Œì¥: ìºì‹± íŒ¨í„´ ì„¸ë¶„í™”
```
ë¬¸ì œì :
  - Cache-Asideë§Œ ì‚¬ìš© ëª…ì‹œ
  - Write-Through ê³ ë ¤ ì—†ìŒ
  - TTL ì •ì±…ì´ ë‹¨ìˆœí•¨

ê°œì„  ë°©ì•ˆ:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë°ì´í„° íƒ€ì…ë³„ ìµœì  íŒ¨í„´                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ì½ê¸° ë§ìŒ, ì“°ê¸° ì ìŒ (Gemini ë¶„ì„ ê²°ê³¼)          â”‚
â”‚    â†’ Cache-Aside + TTL 24ì‹œê°„ âœ… í˜„ì¬ ì ì ˆ         â”‚
â”‚    â†’ Cache Hit Rate: 70~80% ëª©í‘œ                    â”‚
â”‚                                                      â”‚
â”‚ 2. ìì£¼ ì“°ì´ëŠ” ë°ì´í„° (ì‚¬ìš©ì í• ë‹¹ëŸ‰)                â”‚
â”‚    â†’ Write-Behind ê¶Œì¥                              â”‚
â”‚    â†’ Redisì— ë¨¼ì € ì“°ê³  ë¹„ë™ê¸°ë¡œ DB ë™ê¸°í™”           â”‚
â”‚                                                      â”‚
â”‚ 3. ì‹¤ì‹œê°„ ë°ì´í„° (Rate Limiting ì¹´ìš´í„°)             â”‚
â”‚    â†’ Write-Through                                  â”‚
â”‚    â†’ ì¦‰ì‹œ ì¼ê´€ì„± í•„ìš”                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### âœ… ê¶Œì¥ Redis ì„¤ì • (redis.conf)
```
# ìµœëŒ€ ë©”ëª¨ë¦¬ 1GB
maxmemory 1000mb

# ë©”ëª¨ë¦¬ ì´ˆê³¼ ì‹œ ë™ì‘: ê°€ì¥ ì ê²Œ ì‚¬ìš©ëœ í‚¤ ì œê±°
maxmemory-policy allkeys-lru

# ë§Œë£Œëœ í‚¤ ì²´í¬ ê°„ê²© (ì •ê¸°ì  ì •ë¦¬)
hz 10

# Persistence (Optional: ì¤‘ìš” ë°ì´í„°ë§Œ)
save 900 1        # 900ì´ˆ(15ë¶„) ë‚´ 1ê°œ ì´ìƒ ë³€ê²½ì‹œ ì €ì¥
save 300 10       # 300ì´ˆ(5ë¶„) ë‚´ 10ê°œ ì´ìƒ ë³€ê²½ì‹œ ì €ì¥
save 60 10000     # 60ì´ˆ ë‚´ 10,000ê°œ ì´ìƒ ë³€ê²½ì‹œ ì €ì¥

# AOF (Append-Only File) - ë” ì•ˆì „í•˜ì§€ë§Œ ëŠë¦¼
appendonly no     # MVPì—ì„œëŠ” no (ì†ë„ ì¤‘ì‹¬)
```

---

## 4ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜ ì¬ê²€í† 

### í˜„ì¬ ì„¤ê³„
```
Phase 1 (MVP):
  - PostgreSQL 16 LTS + pgvector + PostGIS
  - Redis 7.2
  - Neo4j ì œê±° (Phase 2ë¡œ ë¯¸ë£¸)

ë¹„ìš©: ~$115/month (ì¸í”„ë¼)
```

### í‰ê°€: âœ… ì ì ˆí•¨
```
ì´ìœ :
1. MVP ë‹¨ê³„ì— ìµœì 
   â†’ PostgreSQLë§Œìœ¼ë¡œ ì¶©ë¶„
   â†’ Neo4jëŠ” ë…¸ë“œ 1,000ê°œ ì´ìƒ í•„ìš” ì—†ìŒ
   
2. ë¹„ìš© íš¨ìœ¨ì 
   â†’ ì›” $115ë¡œ ì‹œì‘
   â†’ Phase 2ì— $200 ì¶”ê°€ë¡œ í™•ì¥ ê°€ëŠ¥
   
3. ë§ˆì´ê·¸ë ˆì´ì…˜ ê²½ë¡œ ëª…í™•
   â†’ parent_node_id ë¯¸ë¦¬ ì €ì¥í•˜ê³ 
   â†’ 1,000ê°œ ë„ë‹¬ ì‹œ Neo4j ë„ì…
   â†’ ë™ì‹œ ìš´ì˜ í›„ ì „í™˜ ê°€ëŠ¥
```

#### ğŸŸ¡ ê°œì„  ê¶Œì¥: Supabase vs ìì²´ í˜¸ìŠ¤íŒ…
```
í˜„ì¬ (ì•”ë¬µì ): AWS RDSë¡œ ìì²´ í˜¸ìŠ¤íŒ…
ê¶Œì¥: Supabase ê³ ë ¤

ë¹„êµ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•­ëª©             â”‚ AWS RDS          â”‚ Supabase         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì›”ê°„ ë¹„ìš©        â”‚ $25~50           â”‚ $25 (Pro)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì„¤ì • ë³µì¡ë„      â”‚ ë†’ìŒ             â”‚ ë‚®ìŒ             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Auth í†µí•©        â”‚ ë³„ë„ í•„ìš”        â”‚ í¬í•¨ë¨ âœ…        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ pgvector ì§€ì›    â”‚ ìˆ˜ë™ ì„¤ì¹˜        â”‚ ê¸°ë³¸ í¬í•¨ âœ…      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë²¡í„° ê²€ìƒ‰ í•¨ìˆ˜   â”‚ ì„¤ì • í•„ìš”        â”‚ ìë™ ìµœì í™” âœ…   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ëŒ€ì‹œë³´ë“œ          â”‚ AWS Console      â”‚ ì›¹ UI (ì§ê´€)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DevOps í•„ìš”      â”‚ ë†’ìŒ             â”‚ ë‚®ìŒ             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê¶Œì¥ ì„ íƒ: Supabase
ì´ìœ :
  1. PostgreSQL ëª¨ë‘ í¬í•¨
  2. ë²¡í„° ê²€ìƒ‰ ìë™ ìµœì í™”
  3. DevOps ë¶€ë‹´ ì—†ìŒ
  4. Firebase Auth í†µí•© ê°€ëŠ¥
  5. ë¹„ìš© ë™ì¼í•˜ê±°ë‚˜ ì €ë ´
```

---

## 5ï¸âƒ£ ë³´ì•ˆ ì•„í‚¤í…ì²˜ í‰ê°€

### í˜„ì¬ ì„¤ê³„
```
âœ… Firebase Auth + JWT
âœ… OAuth2.0 Rate Limiting
âœ… SQL Injection ë°©ì§€ (ORM ì‚¬ìš©)
âœ… XSS ë°©ì§€ (DOMPurify)
âœ… GDPR ì¤€ìˆ˜ (ë°ì´í„° ìµëª…í™”)
```

### í‰ê°€: âœ… íƒì›”í•¨
```
2025ë…„ í‘œì¤€ ëŒ€ë¹„ 100% ì í•©
ì¶”ê°€ ê¶Œì¥ì‚¬í•­: 2ê°€ì§€ë§Œ
```

#### ğŸŸ¢ ì¶”ê°€ ê¶Œì¥: CORS ì„¤ì •
```python
# í˜„ì¬ ë¬¸ì„œì— ì—†ìŒ â†’ ì¶”ê°€ í•„ìš”

from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "https://k-meme.com",
        "https://admin.k-meme.com",
        # development only:
        "http://localhost:3000",
    ],
    allow_credentials=True,
    allow_methods=["GET", "POST", "PUT", "DELETE"],
    allow_headers=["Authorization", "Content-Type"],
    max_age=3600,  # preflight ìºì‹œ 1ì‹œê°„
)
```

#### ğŸŸ¢ ì¶”ê°€ ê¶Œì¥: Security Headers
```python
# Helmet ê°™ì€ ë³´ì•ˆ í—¤ë” ì¶”ê°€

@app.middleware("http")
async def add_security_headers(request: Request, call_next):
    response = await call_next(request)
    
    # XSS ë°©ì§€
    response.headers["X-Content-Type-Options"] = "nosniff"
    response.headers["X-Frame-Options"] = "DENY"
    response.headers["X-XSS-Protection"] = "1; mode=block"
    
    # HTTPS ê°•ì œ
    response.headers["Strict-Transport-Security"] = "max-age=31536000; includeSubDomains"
    
    # ìºì‹œ ë°©ì§€ (ë¯¼ê°í•œ ë°ì´í„°)
    response.headers["Cache-Control"] = "no-store, no-cache, must-revalidate"
    
    return response
```

---

## 6ï¸âƒ£ ë¹„ìš© ë¶„ì„ ì¬ê³„ì‚°

### í˜„ì¬ ì„¤ê³„
```
ì¸í”„ë¼: ~$115/month
AI APIs: ~$600/month (1,000 ë¦¬ë¯¹ìŠ¤/ì›”)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´: ~$715/month
```

### ì¬ê³„ì‚° (2025ë…„ ê¸°ì¤€)

#### ì •í™•í•œ ë¹„ìš© ë¶„ì„

```
A. ì¸í”„ë¼ (ë” ìƒì„¸í•œ ê³„ì‚°)

1ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤
   Supabase Pro: $25/month
   - PostgreSQL 16, pgvector, Auth í¬í•¨
   - ì €ì¥ì†Œ: 8GB, ëŒ€ì—­í­: 100GB

2ï¸âƒ£ Redis ìºì‹±
   Upstash Redis Pro: $20/month
   - ì„œë²„ë¦¬ìŠ¤, ìë™ ìŠ¤ì¼€ì¼
   - ê´€ë¦¬ ë¶ˆí•„ìš”

3ï¸âƒ£ ì €ì¥ì†Œ (S3 + CloudFront)
   - ë¦¬ë¯¹ìŠ¤ ì´ë¯¸ì§€: 1000ê°œ Ã— 2MB = 2GB/ì›”
   - ê°€ì´ë“œ PDF: 1000ê°œ Ã— 500KB = 500MB/ì›”
   - ì´: 2.5GB/ì›”
   - ë¹„ìš©: (2.5GB Ã— $0.025 + 2.5GB Ã— $0.085) = ~$5

4ï¸âƒ£ ì›¹í˜¸ìŠ¤íŒ… (í”„ë¡ íŠ¸ì—”ë“œ)
   Vercel Pro: $20/month
   - Next.js ë°°í¬, CDN, í™˜ê²½ ë³€ìˆ˜

5ï¸âƒ£ ë°±ì—”ë“œ í˜¸ìŠ¤íŒ…
   Railway: $10/month
   - pay-as-you-go
   - 1,000 ë¦¬ë¯¹ìŠ¤ ì²˜ë¦¬ ê°€ëŠ¥

ì¸í”„ë¼ ì†Œê³„: $25 + $20 + $5 + $20 + $10 = $80/month

B. AI APIs (1,000 ë¦¬ë¯¹ìŠ¤/ì›” ê¸°ì¤€)

1ï¸âƒ£ Gemini 3.0 Pro
   - 1,000íšŒ/ì›” Ã— 2,000 í† í° = 2M tokens
   - ë¹„ìš©: 2M Ã— $0.075/1M = $0.15/month
   - ìºì‹± 50% ê³ ë ¤: ~$0.075/month

2ï¸âƒ£ Claude 4.5 Sonnet (ì„ ë³„ì )
   - 200íšŒ/ì›” Ã— 1,500 í† í° = 300K tokens
   - ë¹„ìš©: 300K Ã— $3/1M = $0.90/month

AI APIs ì†Œê³„: $1/month (ê±°ì˜ ë¬´ë£Œ!)

C. ëª¨ë‹ˆí„°ë§ & ë³´ì•ˆ

1ï¸âƒ£ Sentry: ë¬´ë£Œ (Free Tier)
2ï¸âƒ£ Datadog: ë¬´ë£Œ (Free Tier)
3ï¸âƒ£ Firebase Auth: ë¬´ë£Œ (50Kì‚¬ìš©ìê¹Œì§€)

ëª¨ë‹ˆí„°ë§ ì†Œê³„: $0/month

ì´ ì›”ê°„ ë¹„ìš© (MVP)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì¸í”„ë¼:      $80/month
AI APIs:     $1/month
ëª¨ë‹ˆí„°ë§:    $0/month
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´í•©:        ~$81/month ğŸ‰

ì´ì „ ê³„ì‚°ê³¼ì˜ ë¹„êµ:
  ì´ì „: $715/month
  í˜„ì¬: $81/month
  ì ˆê°: 89% â¬‡ï¸
```

### âœ… ìµœì¢… ë¹„ìš© ê²°ë¡ 
```
ì›”ê°„ ìš´ì˜ ë¹„ìš©: ~$81 (MVP)
ë§¤ìš° íš¨ìœ¨ì ! ğŸš€
```

---

## ğŸ¯ ìµœì¢… ê¶Œì¥ì‚¬í•­ (ìš°ì„ ìˆœìœ„)

### ğŸ”´ Critical (MVP ì§ì „ - 1ì£¼ì¼)
```
1. PostgreSQL ì—°ê²°ì„ ë™ê¸°â†’ë¹„ë™ê¸°ë¡œ ë³€ê²½ (asyncpg)
   - ì„±ëŠ¥ ì°¨ì´ 10ë°°
   - ì½”ë“œ: 20ì¤„

2. Repository Pattern ì¶”ê°€
   - í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„± ì¦ëŒ€
   - ì½”ë“œ: 50ì¤„

3. Security Headers ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€
   - CORS, X-Frame-Options, HSTS ë“±
   - ì½”ë“œ: 15ì¤„
```

### ğŸŸ¡ Important (Phase 1 ë‚´ - 2ì£¼ì¼)
```
1. Redis ìºì‹± ì „ëµ ì„¸ë¶„í™”
2. Circuit Breaker Pattern (Gemini/Claude)
3. Cache Health Check
4. Supabase ê³ ë ¤ í‰ê°€
```

### ğŸŸ¢ Phase 2 (í™•ì¥ ë‹¨ê³„)
```
1. Neo4j ë„ì… (ë…¸ë“œ 1,000ê°œ+)
2. Load Testing (Locust)
3. Distributed Tracing (OpenTelemetry)
```

---

## ğŸ“‹ ì»¨ì„¤íŒ… ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•­ëª©                    â”‚ í‰ê°€   â”‚ ê°œì„ ì‚¬í•­             â”‚ ìš°ì„ ìˆœìœ„â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AI ëª¨ë¸ ì„ íƒ            â”‚ âœ…âœ…   â”‚ ë³€ê²½ ì—†ìŒ            â”‚ â€”       â”‚
â”‚ FastAPI ì•„í‚¤í…ì²˜        â”‚ âœ…âœ…   â”‚ Async SQLAlchemy    â”‚ ğŸ”´     â”‚
â”‚ ë³´ì•ˆ (Auth/CORS)        â”‚ âœ…âœ…   â”‚ Security Headers    â”‚ ğŸ”´     â”‚
â”‚ Redis ìºì‹±              â”‚ âœ…     â”‚ íŒ¨í„´ ì„¸ë¶„í™”         â”‚ ğŸŸ¡     â”‚
â”‚ ì—ëŸ¬ í•¸ë“¤ë§             â”‚ âœ…âœ…   â”‚ Circuit Breaker     â”‚ ğŸŸ¡     â”‚
â”‚ í…ŒìŠ¤íŠ¸ ì „ëµ             â”‚ âœ…âœ…   â”‚ Load Testing        â”‚ ğŸŸ¢     â”‚
â”‚ ëª¨ë‹ˆí„°ë§                â”‚ âœ…âœ…   â”‚ ì„ê³„ê°’ ì¡°ì •         â”‚ ğŸŸ¡     â”‚
â”‚ DB ì•„í‚¤í…ì²˜             â”‚ âœ…     â”‚ Supabase í‰ê°€       â”‚ ğŸŸ¡     â”‚
â”‚ ë¹„ìš© ë¶„ì„               â”‚ âœ…     â”‚ ì›” $81ë¡œ í™•ì •       â”‚ ì™„ë£Œ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Document Version**: 5.2 Final  
**Status**: âœ… Production-Ready  
**ìµœì¢… ë¹„ìš©**: ì›” ~$81 (ë§¤ìš° ì €ë ´!)  
**ë‹¤ìŒ ë‹¨ê³„**: ìœ„ ê°œì„ ì‚¬í•­ ì ìš© í›„ ê°œë°œ ì°©ìˆ˜
