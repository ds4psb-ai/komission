# ì½”ë¯¸ì…˜ (Komission) ê°œë°œì ì˜¨ë³´ë”© ê°€ì´ë“œ

> **ìµœì¢… ìˆ˜ì •**: 2026-01-02 (ëª¨ë°”ì¼ ì•± í•˜ë“œë‹ ì™„ë£Œ ë°˜ì˜)

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

**ì½”ë¯¸ì…˜**ì€ í‹±í†¡ í¬ë¦¬ì—ì´í„°ë¥¼ ìœ„í•œ AI ê¸°ë°˜ ì˜ìƒ ì´¬ì˜ ì½”ì¹­ í”Œë«í¼ì…ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
1. **ì•„ì›ƒë¼ì´ì–´ ë¶„ì„** - ë°”ì´ëŸ´ í‹±í†¡ ì˜ìƒ ë¶„ì„ (VDG ê¸°ë°˜)
2. **ì‹¤ì‹œê°„ AI ì½”ì¹­** - ì´¬ì˜ ì¤‘ ìŒì„±/í…ìŠ¤íŠ¸ í”¼ë“œë°±
3. **ì²´í—˜ë‹¨ (ìº í˜ì¸)** - í¬ë¦¬ì—ì´í„°ê°€ ë¸Œëœë“œ ìº í˜ì¸ì— ì°¸ì—¬

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND                    â”‚
â”‚         FastAPI + PostgreSQL + Redis         â”‚
â”‚    /Users/ted/komission/backend              â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ WebSocket: /coaching/live           â”‚â—„â”€â”€â”€â”¼â”€â”€â”€â”€ ì›¹/ì•± ê³µí†µ ì‚¬ìš©
â”‚  â”‚ REST API: /api/v1/*                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                    â”‚
           â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    WEB APP       â”‚   â”‚   MOBILE APP     â”‚
â”‚    Next.js       â”‚   â”‚ Expo + RN        â”‚
â”‚  /frontend       â”‚   â”‚ /mobile âœ…       â”‚
â”‚                  â”‚   â”‚                  â”‚
â”‚ â€¢ ì•„ì›ƒë¼ì´ì–´     â”‚   â”‚ âœ… 4K ì´¬ì˜       â”‚
â”‚ â€¢ ì²´í—˜ë‹¨ ê´€ë¦¬    â”‚   â”‚ âœ… H.265/H.264   â”‚
â”‚ â€¢ ìº”ë²„ìŠ¤         â”‚   â”‚ âœ… ì½”ì¹­ ì˜¤ë²„ë ˆì´ â”‚
â”‚ â€¢ ëŒ€ì‹œë³´ë“œ       â”‚   â”‚ âœ… ìŒì„±/í…ìŠ¤íŠ¸   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
/Users/ted/komission/
â”œâ”€â”€ backend/                    # FastAPI ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py
â”‚   â”‚   â”œâ”€â”€ routers/            # 33 files
â”‚   â”‚   â”‚   â”œâ”€â”€ coaching_ws.py  # â­ ì‹¤ì‹œê°„ ì½”ì¹­ WebSocket (1124 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ coaching.py     # ì„¸ì…˜ REST API (586 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ outliers.py     # ì•„ì›ƒë¼ì´ì–´ (106KB)
â”‚   â”‚   â”‚   â”œâ”€â”€ agent.py        # Chat Agent
â”‚   â”‚   â”‚   â””â”€â”€ o2o.py          # ì²´í—˜ë‹¨
â”‚   â”‚   â”œâ”€â”€ services/           # 50+ files
â”‚   â”‚   â”‚   â”œâ”€â”€ vdg_2pass/      # VDG ë¶„ì„ ì—”ì§„ (16 files)
â”‚   â”‚   â”‚   â”œâ”€â”€ audio_coach.py  # Gemini 2.5 Flash (30KB)
â”‚   â”‚   â”‚   â”œâ”€â”€ coaching_repository.py  # DB ë ˆí¬ì§€í† ë¦¬ (33KB)
â”‚   â”‚   â”‚   â””â”€â”€ frame_analyzer.py
â”‚   â”‚   â”œâ”€â”€ mcp/                # MCP ì„œë²„
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/          # 6 analysis tools
â”‚   â”‚   â”‚   â”œâ”€â”€ resources/      # 5 data resources
â”‚   â”‚   â”‚   â””â”€â”€ prompts/        # 4 prompt templates
â”‚   â”‚   â”œâ”€â”€ models.py           # CoachingSession, Intervention ë“± (2036 lines)
â”‚   â”‚   â””â”€â”€ schemas/            # 17 files
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ frontend/                   # Next.js ì›¹ì•±
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/                # App Router
â”‚   â”‚   â”œâ”€â”€ components/         # 29 files + 7 subdirs
â”‚   â”‚   â”‚   â”œâ”€â”€ CoachingSession.tsx  # â­ ì½”ì¹­ UI (45KB, 979 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ PatternAnswerCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ EvidenceBar.tsx
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚       â””â”€â”€ useCoachingWebSocket.ts
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ mobile/                     # âœ… Expo ì•± (Week 1 ì™„ë£Œ)
â”‚   â”œâ”€â”€ app.json
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ app/                    # expo-router
â”‚   â”‚   â”œâ”€â”€ _layout.tsx
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â””â”€â”€ camera.tsx          # â­ 4K ì´¬ì˜ (550+ lines)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â””â”€â”€ recordingConfig.ts   # H.265/H.264 (236 lines)
â”‚       â”œâ”€â”€ hooks/              # 4 hooks
â”‚       â”‚   â”œâ”€â”€ useCoachingWebSocket.ts  # Phase 2 ìŠ¤íŠ¸ë¦¬ë° (13KB)
â”‚       â”‚   â”œâ”€â”€ useCameraFormat.ts       # í”„ë ˆì„ ë ˆì´íŠ¸ (7KB)
â”‚       â”‚   â”œâ”€â”€ useDeviceStatus.ts       # ë°°í„°ë¦¬/ë„¤íŠ¸ì›Œí¬ (8KB)
â”‚       â”‚   â””â”€â”€ useSessionPersistence.ts # DB ì—°ë™ (10KB)
â”‚       â”œâ”€â”€ services/
â”‚       â”‚   â””â”€â”€ videoStreamService.ts  # H.264 + AdaptiveBitrate
â”‚       â””â”€â”€ components/         # 4 components
â”‚           â”œâ”€â”€ CoachingOverlay.tsx  # â­ ìŒì„±/í…ìŠ¤íŠ¸ í† ê¸€ (14KB)
â”‚           â”œâ”€â”€ RecordButton.tsx     # ë…¹í™” ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜
â”‚           â”œâ”€â”€ QualityBadge.tsx     # 4K/HEVC ë°°ì§€
â”‚           â””â”€â”€ DeviceStatusBar.tsx  # ë””ë°”ì´ìŠ¤ ìƒíƒœ
â”‚
â””â”€â”€ docs/                       # ë¬¸ì„œ
    â”œâ”€â”€ 21_PARALLEL_DEVELOPMENT_STRATEGY.md
    â”œâ”€â”€ 22_DEVELOPER_ONBOARDING.md
    â”œâ”€â”€ ARCHITECTURE_FINAL.md
    â””â”€â”€ CHANGELOG.md
```

---

## ğŸ”€ ë³‘ë ¬ ê°œë°œ íŠ¸ë™

### íŠ¸ë™ A: ëª¨ë°”ì¼ ì•± âœ… (Week 1 ì™„ë£Œ)

**ë‹´ë‹¹**: Claude (AI ì–´ì‹œìŠ¤í„´íŠ¸)

| í•­ëª© | ìƒíƒœ |
|------|------|
| 4K ì´¬ì˜ + H.265 | âœ… ì™„ë£Œ |
| í”„ë ˆì„ ë ˆì´íŠ¸ ì•ˆì •í™” | âœ… ì™„ë£Œ |
| ë°°í„°ë¦¬/ë„¤íŠ¸ì›Œí¬ ì ì‘ | âœ… ì™„ë£Œ |
| H.264 ìŠ¤íŠ¸ë¦¬ë° ìµœì í™” | âœ… ì™„ë£Œ |
| ìŒì„±/í…ìŠ¤íŠ¸ í† ê¸€ | âœ… ì™„ë£Œ |
| DB ì„¸ì…˜ ì €ì¥ | âœ… ì™„ë£Œ |
| ë”¥ë§í¬ ì—°ê²° | â¬œ ëŒ€ê¸° |
| ì•±ìŠ¤í† ì–´ ë“±ë¡ | â¬œ ëŒ€ê¸° |

---

### íŠ¸ë™ B: ì›¹ì•± ê³ ë„í™” â† **ìƒˆ ê°œë°œì ë‹´ë‹¹**

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©í‘œ** | ì½”ì¹­ í’ˆì§ˆ í–¥ìƒ + ì²´í—˜ë‹¨ ê¸°ëŠ¥ |
| **ê¸°ìˆ ** | Next.js 14 + Tailwind |
| **í´ë”** | `/frontend` |

#### Phase 1: ì½”ì¹­ í’ˆì§ˆ í–¥ìƒ
- [ ] CV ë©”íŠ¸ë¦­ ê¸°ë°˜ ì‹¤ì‹œê°„ ì½”ì¹­ (center_offset, brightness, blur)
- [ ] VDG shotlist/do_not ê¸°ë°˜ ë§ì¶¤ í”¼ë“œë°±
- [ ] ì½”ì¹­ ë©”ì‹œì§€ ë‹¤ì–‘ì„± ì¦ê°€

#### Phase 2: ì²´í—˜ë‹¨ ê³ ë„í™”
- [ ] ìº í˜ì¸ ìƒì„±/ê´€ë¦¬ UI
- [ ] í¬ë¦¬ì—ì´í„° ì‹ ì²­/ì„ ë°œ í”Œë¡œìš°
- [ ] ì˜ìƒ ì œì¶œ ë° ê²€ìˆ˜ ì‹œìŠ¤í…œ
- [ ] ë³´ìƒ ì§€ê¸‰ ê´€ë¦¬

---

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### ë°±ì—”ë“œ
```bash
cd /Users/ted/komission/backend
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000
```

### í”„ë¡ íŠ¸ì—”ë“œ
```bash
cd /Users/ted/komission/frontend
npm install
npm run dev  # localhost:3000
```

### ëª¨ë°”ì¼ âœ…
```bash
cd /Users/ted/komission/mobile
npm install
npx expo prebuild --platform ios
npx expo run:ios --device
```

---

## ğŸ”Œ ê³µìœ  ì¸í„°í˜ì´ìŠ¤

### WebSocket ì—”ë“œí¬ì¸íŠ¸
```
ws://localhost:8000/api/v1/coaching/live/{session_id}
```

### ì£¼ìš” ë©”ì‹œì§€ íƒ€ì…
```typescript
// ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸
type Feedback = {
  type: 'feedback';
  message: string;
  audio_b64?: string;
  rule_id?: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
};

// Phase 2: í”„ë ˆì„ ACK
type FrameAck = {
  type: 'frame_ack';
  frame_t: number;  // í´ë¼ì´ì–¸íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„
  codec: 'h264' | 'jpeg';
};

// í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„
type Control = { type: 'control'; action: 'start' | 'stop' | 'pause' };
type VideoFrame = {
  type: 'video_frame';
  frame_b64: string;
  t_sec: number;
  t_ms?: number;     // Phase 2: RTT ì¸¡ì •ìš©
  codec?: string;    // Phase 2: h264/jpeg
};
```

---

## ğŸ“‹ í˜„ì¬ ìƒíƒœ (2026-01-02)

### âœ… ì™„ë£Œëœ ì‘ì—… (Week 1)

**ëª¨ë°”ì¼ ì•± (Phase 1 + Phase 2)**
- âœ… H.265/H.264 ì½”ë± ì§€ì›
- âœ… í”„ë ˆì„ ë ˆì´íŠ¸ ì•ˆì •í™”
- âœ… ë°°í„°ë¦¬/ë„¤íŠ¸ì›Œí¬/ì €ì¥ê³µê°„ ëª¨ë‹ˆí„°ë§
- âœ… ì ì‘í˜• í™”ì§ˆ ì¡°ì •
- âœ… H.264 ìŠ¤íŠ¸ë¦¬ë° ìµœì í™” (50% ì§€ì—°ì‹œê°„ ê°ì†Œ)
- âœ… ìŒì„±/í…ìŠ¤íŠ¸ ì½”ì¹­ í† ê¸€
- âœ… DB ì„¸ì…˜ ì €ì¥ (RL ì¤€ë¹„)

**ë°±ì—”ë“œ**
- âœ… frame_ack ì‘ë‹µ (RTT ì¸¡ì •)
- âœ… H.264 ì½”ë± ì§€ì›
- âœ… client_t ì—ì½”

**í™•ì¥ ìŠ¬ë¡¯ (Phase 2+)**
- â¬œ êµ¬ë„ ê°€ì´ë“œ (ì‚¼ë¶„ë²•, í™©ê¸ˆë¹„)
- â¬œ ì¡°ëª… ì¶”ì²œ
- â¬œ ë¯¸ì¥ì„¼ ì¶”ì²œ

---

## ğŸ“ í˜‘ì—… ê·œì¹™

1. **ë¸Œëœì¹˜ ì „ëµ**: `feature/mobile-*` vs `feature/web-*`
2. **ì¶©ëŒ ì˜ì—­**: ë°±ì—”ë“œ API ë³€ê²½ ì‹œ ìƒí˜¸ ê³µìœ 
3. **ê³µìœ  í›…**: `useCoachingWebSocket` ë³€ê²½ ì‹œ ì–‘ìª½ ë™ê¸°í™”
4. **PR ë¦¬ë·°**: ë°±ì—”ë“œ ë³€ê²½ì€ ìƒí˜¸ í™•ì¸ í•„ìˆ˜

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- VDG 2-Pass í”„ë¡œí† ì½œ: `/docs/vdg_v4_2pass_protocol.md`
- ë³‘ë ¬ ê°œë°œ ì „ëµ: `/docs/21_PARALLEL_DEVELOPMENT_STRATEGY.md`
- ì½”ì¹­ WebSocket: `/backend/app/routers/coaching_ws.py`
- MCP ì„¤ì •: `/docs/MCP_CLAUDE_DESKTOP_SETUP.md`
